# connection


## 1. bridgesession

curl 'http://178.254.2.62:3001/api/v3/session/tcp' \
  --request post \
  --header 'content-type: application/json' \
  --header 'auth' \
  --data '{
  "destination": "12d3koowr4uwjkcdcay1xsefb4esuwlf9q5ijyvcjz5pnktbnu33",
  "listenhost": "127.0.0.1:10000",
  "path": {
    "hops": 1
  },
  "target": {
    "plain": "127.0.0.1:8000"
  }
}'

## 2. wg creds

res = curl http://178.254.2.62:10000/ \
  --request POST \
  --header 'Content-Type: application/json' \
  --header 'auth' \
  --data '{
  "public_key": "pubkey",
  }'

res = {ip, wg_server_pubkey}

## 3. drop session

curl 'http://0.0.0.0:3011/api/v3/session/tcp/{ip}/{port}' \
    --request DELETE \
  --header 'Content-Type: application/json' \
  --header 'auth'

## 4. create udp session

curl 'http://178.254.2.62:3001/api/v3/session/udp' \
  --request post \
  --header 'content-type: application/json' \
  --header 'auth' \
  --data '{
  "capapbilities": ["Segmentation"],
  "destination": "12d3koowr4uwjkcdcay1xsefb4esuwlf9q5ijyvcjz5pnktbnu33",
  "listenhost": "127.0.0.1:10000",
  "path": {
    "hops": 1
  },
  "target": {
    "plain": "127.0.0.1:8000"
  }
}'

## 5. bring wg interface up

## 6. monitor udp session
